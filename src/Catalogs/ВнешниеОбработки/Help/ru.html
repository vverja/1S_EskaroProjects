<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link href="v8help://service_book/service_style" type="text/css" rel="stylesheet"></link><meta content="MSHTML 6.00.6000.16788" name="GENERATOR"></meta></head><body>
<h1 class="">Справочник «Внешние  обработки, печатные формы, обработки по заполнению табличных частей» </h1>
<p class="Usual">Справочник содержит список произвольных обработок, произвольных отчетов, дополнительных печатных форм, обработок для заполнения ТЧ объектов, обработок, подключаемых к отчетам.</p>
<h2 class="">Общее описание</h2>
<p class=""><strong><br>Произвольная обработка (произвольный отчет).</strong></p>
<p class="Usual">Для произвольных обработок необходимо указывать только внешнюю обработку, которая находится на диске, для ее загрузки в реквизит элемента справочника. Так же для произвольных обработок необходимо иметь возможность назначать права доступа для их использования.</p>
<p class="Usual"> </p>
<p class="Usual"><strong>Обработка для заполнения ТЧ объектов.</strong></p>
<p class="Usual">Для обработок заполнения ТЧ необходимо указывать внешнюю обработку, список объектов и их ТЧ, для которых необходимо использовать данную обработку. </p>
<p class="Usual"> </p>
<p class="Usual"><strong>Внешняя печатная форма.</strong></p>
<p class="Usual">Для подключаемых внешних печатных форм необходимо указывать:</p>
<ul><li>
<div class="">внешнюю обработку;</div>
</li><li>
<div class="">при необходимости можно указать список дополнительных параметров, которые будут передаваться внешней обработке;</div>
</li><li>
<div class="">список объектов, для которых данная печатная форма используется;</div>
</li><li>
<div class="">для каждого объекта несколько отборов, при выполнении которых печатная форма становится доступной для использования с данным объектом;</div>
</li><li>
<div class="">для каждого объекта свою отдельную печатную форму, но в списках печатных форм в объектах будет всегда появляться одинаковый пункт подменю;</div>
</li><li>
<div class="">для каждого объекта встроенную печатную форму, которая будет заменена указанной внешней.</div></li></ul><p>Корректно зарегистрированная печатная форма будет выводиться в общем списке печатных форм объекта, вызываемом по кнопке «Печать». Если подключаемая печатная форма заменяет стандартную, то она заменяется и показывается в списке стандартных печатных форм.</p>
<p class="Usual"><strong>Внешняя обработка, подключаемая к отчету</strong></p>
<p class="Usual">К каждому отчету (на базе универсального отчета) можно подключать произвольное количество обработок. Перечень обработок которые будут фактически подключены к отчету определяется правами доступа пользователей к внешним обработкам.</p>Для каждой обработки, подключенной к отчету можно указать режим её запуска: 
<ol><li>Запускать автоматически перед началом построения отчета <br>Обработка будет запущена после нажатия на кнопку «Сформировать» в отчете перед выполнением запроса к данным. Результат выполнения обработки может быть выведен в форму отчета, если обработка завершается с указанием прервать построение отчета. Иначе форма отчета очистится после выполнения обработки. Также в зависимости от результата работы обработки построение отчета может быть прервано. Пользователю может быть выдано сообщение о причине.  <br>Например: <br>a. не готовы исходные данные, <br>b. формирование отчета запрещено  в этот период времени, этим пользователем и т.п. 
</li><li>Запускать автоматически после построения отчета <br>Обработка будет запущена, после того как нажата кнопка «Сформировать» и результаты отчета выведены в поле табличного документа. Этот режим предназначен для дополнительной обработки результата полученного в отчете. 
</li><li>Запускать вручную <br>Обработку можно будет запускать вручную, через меню «Действия» отчета <br>Обработки, для которых задан режим запуска «Вручную» автоматически размещаться в меню «Действия» отчета. </li></ol><h2 class="">Требования к подключению внешних обработок</h2>
<p class=""><strong><br>Произвольная обработка.</strong></p>
<p class="">Любая внешняя обработка с определенной основной формой.</p>
<p class=""><strong>Произвольный отчет.</strong></p>
<p class="">Любой внешний отчет с определенной основной формой.</p>
<p class=""><strong>Обработка для заполнения ТЧ объектов.</strong></p>
<p class="">Внешняя обработка, содержащая:</p>
<ul><li>
<div class="">Необязательный реквизит «ДополнительныеПараметры» произвольного типа, которому будут передаваться дополнительные параметры примитивного типа в виде структуры.</div>
</li><li>
<div class="">В модуле экспортную процедуру: Инициализировать(Объект,ИмяТабличнойЧасти,ТабличноеПолеОбъекта) </div></li></ul><p class="">где:  </p>
<ul><li>
<div class="">Объект - ДокументОбъект, СправочникОбъект - откуда был произведен вызов процедуры заполнения внешней обработки;</div>
</li><li>
<div class="">ИмяТабличнойЧасти  – Строка. Имя табличной части, для которой вызвана обработка;</div>
</li><li>
<div class="">ТабличноеПолеОбъекта  – Элемент формы: Табличное поле. Табличное поле формы, для которого вызвана обработка.<br></div></li></ul><p class="">Также обработка может иметь в своем составе макет «Параметры_Авторегистрации», используемый для автоматического заполнения принадлежности печатной формы в справочнике «Внешние обработки» и состоящий из 2-х колонок («полное имя метаданного» и «имя табличной части»).<br> <br><strong>Внешняя печатная форма.</strong></p>
<p class="">Внешняя обработка, содержащая:</p>
<ul><li>
<div class="">
<div class="">Необязательный реквизит «ДополнительныеПараметры» произвольного типа, которому будут передаваться дополнительные параметры примитивного типа в виде структуры.</div></div>
</li><li>
<div class="">Реквизит «СсылкаНаОбъект», в который при вызове будет передана ссылка на объект, для которого необходимо выполнить печать.</div>
</li><li>
<div class="">Функция «Печать()» - без параметров,  возвращающая табличный документ.</div></li></ul><p class=""><br>Также обработка может иметь в своем составе макет «Параметры_Авторегистрации», используемый для автоматического заполнения принадлежности печатной формы в справочнике «Внешние обработки» и состоящий из 2-х колонок («полное имя метаданного» и «имя табличной части»).</p>
<p class=""><strong>Внешняя обработка, подключаемая к отчету</strong></p>
<p class="">Внешняя обработка, содержащая:</p>
<ul><li>В модуле экспортную процедуру: Инициализировать() 
</li><li>Обязательный реквизит «ДополнительныеПараметры» - произвольного типа. При создании обработки инициализируется значением типа Структура, содержащим: 
<ul><li>Отчет – ОтчетОбъект, из которого осуществляется вызов внешней обработки. 
</li><li>ТабличныйДокумент - ТабличныйДокумент, в который осуществляется вывод отчета. 
</li><li>Отказ - флаг, определяющий необходимость дальнейшего построения отчета.</li></ul></li></ul></body></html>