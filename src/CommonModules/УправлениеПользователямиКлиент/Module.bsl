// Процедура открывает форму для побора (выбора) ролей
//
Процедура ОткрытьПодборРолей(СоставРолей, ПредставлениеВладельцаРолей) Экспорт
	
	СписокРолей = Новый Массив;
	
	// В параметре СоставРолей может быть коллекция произвольного типа
	Для каждого ЭлКоллекции Из СоставРолей Цикл
		СписокРолей.Добавить(ЭлКоллекции.ИмяРоли);
	КонецЦикла; 
	
	СтруктураПараметров = Новый Структура;
	СтруктураПараметров.Вставить("СписокРолей", СписокРолей);
	СтруктураПараметров.Вставить("ЗаголовокФормы", "Редактирование ролей: " + ПредставлениеВладельцаРолей);
	
	Результат = ОткрытьФормуМодально("ОбщаяФорма.ПодборРолейУправляемая", СтруктураПараметров);
	Если Результат = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	СоставРолей.Очистить();
	Для каждого ЭлКоллекции Из Результат Цикл
		НоваяРоль = СоставРолей.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяРоль, ЭлКоллекции);
	КонецЦикла;
		
КонецПроцедуры // ОткрытьПодборРолей

