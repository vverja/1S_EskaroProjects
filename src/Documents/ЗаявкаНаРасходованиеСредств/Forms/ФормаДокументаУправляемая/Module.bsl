// Процедура заполняет реквизиты формы по данным первой строки ТЧ "РасшифровкаПлатежа"
//
&НаСервере
Процедура ЗаполнитьДанныеФормы()

	Если Объект.РасшифровкаПлатежа.Количество() = 0 Тогда
		Возврат;
	КонецЕсли;
	
	СтрокаРасшифровки = Объект.РасшифровкаПлатежа.Получить(0);
	
	Сделка                        = СтрокаРасшифровки.Сделка;
	ДоговорКонтрагента            = СтрокаРасшифровки.ДоговорКонтрагента;
	СтатьяДвиженияДенежныхСредств = СтрокаРасшифровки.СтатьяДвиженияДенежныхСредств;
	
КонецПроцедуры //
 
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ТолькоПросмотр = Истина;
	
	Если Объект.ВидОперации = Перечисления.ВидыОперацийЗаявкиНаРасходование.ВыдачаДенежныхСредствПодотчетнику Тогда
		Элементы.ВыдачаПодотчетнику.Видимость = Истина;
		Элементы.РасчетыСКонтрагентами.Видимость = Ложь;
	Иначе
		Элементы.ВыдачаПодотчетнику.Видимость = Ложь;
		Элементы.РасчетыСКонтрагентами.Видимость = Истина;
	КонецЕсли; 
	
	ЗаполнитьДанныеФормы();
	
	// Установим заголовок основной страницы
	ВидОперацииСтрока = Строка(Объект.ВидОперации);
	Элементы.ОсновныеСведения.Заголовок = ВРег(Лев(ВидОперацииСтрока,1)) + Сред(ВидОперацииСтрока,2);
	
КонецПроцедуры
